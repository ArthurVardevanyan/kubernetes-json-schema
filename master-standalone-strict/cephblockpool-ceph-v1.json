{
  "description": "CephBlockPool represents a Ceph Storage Pool",
  "type": "object",
  "required": [
    "metadata",
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": [
        "string",
        "null"
      ],
      "enum": [
        "ceph.rook.io/v1"
      ]
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": [
        "string",
        "null"
      ],
      "enum": [
        "CephBlockPool"
      ]
    },
    "metadata": {
      "description": "Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata",
      "$ref": "_definitions.json#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
    },
    "spec": {
      "description": "NamedBlockPoolSpec allows a block pool to be created with a non-default name.\nThis is more specific than the NamedPoolSpec so we get schema validation on the\nallowed pool names that can be specified.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "application": {
          "description": "The application name to set on the pool. Only expected to be set for rgw pools.",
          "type": [
            "string",
            "null"
          ]
        },
        "compressionMode": {
          "description": "DEPRECATED: use Parameters instead, e.g., Parameters[\"compression_mode\"] = \"force\"\nThe inline compression mode in Bluestore OSD to set to (options are: none, passive, aggressive, force)\nDo NOT set a default value for kubebuilder as this will override the Parameters",
          "enum": [
            "none",
            "passive",
            "aggressive",
            "force",
            ""
          ]
        },
        "crushRoot": {
          "description": "The root of the crush hierarchy utilized by the pool"
        },
        "deviceClass": {
          "description": "The device class the OSD should set to for use in the pool"
        },
        "enableRBDStats": {
          "description": "EnableRBDStats is used to enable gathering of statistics for all RBD images in the pool",
          "type": [
            "boolean",
            "null"
          ]
        },
        "erasureCoded": {
          "description": "The erasure code settings",
          "type": [
            "object",
            "null"
          ],
          "required": [
            "codingChunks",
            "dataChunks"
          ],
          "properties": {
            "algorithm": {
              "description": "The algorithm for erasure coding",
              "type": [
                "string",
                "null"
              ]
            },
            "codingChunks": {
              "description": "Number of coding chunks per object in an erasure coded storage pool (required for erasure-coded pool type).\nThis is the number of OSDs that can be lost simultaneously before data cannot be recovered.",
              "type": "integer",
              "minimum": 0
            },
            "dataChunks": {
              "description": "Number of data chunks per object in an erasure coded storage pool (required for erasure-coded pool type).\nThe number of chunks required to recover an object when any single OSD is lost is the same\nas dataChunks so be aware that the larger the number of data chunks, the higher the cost of recovery.",
              "type": "integer",
              "minimum": 0
            }
          },
          "additionalProperties": false
        },
        "failureDomain": {
          "description": "The failure domain: osd/host/(region or zone if available) - technically also any type in the crush map",
          "type": [
            "string",
            "null"
          ]
        },
        "mirroring": {
          "description": "The mirroring settings",
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "enabled": {
              "description": "Enabled whether this pool is mirrored or not",
              "type": [
                "boolean",
                "null"
              ]
            },
            "mode": {
              "description": "Mode is the mirroring mode: either pool or image",
              "type": [
                "string",
                "null"
              ]
            },
            "peers": {
              "description": "Peers represents the peers spec"
            },
            "snapshotSchedules": {
              "description": "SnapshotSchedules is the scheduling of snapshot for mirrored images/pools",
              "type": [
                "array",
                "null"
              ],
              "items": {
                "description": "SnapshotScheduleSpec represents the snapshot scheduling settings of a mirrored pool",
                "type": [
                  "object",
                  "null"
                ],
                "properties": {
                  "interval": {
                    "description": "Interval represent the periodicity of the snapshot.",
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "path": {
                    "description": "Path is the path to snapshot, only valid for CephFS",
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "startTime": {
                    "description": "StartTime indicates when to start the snapshot",
                    "type": [
                      "string",
                      "null"
                    ]
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "name": {
          "description": "The desired name of the pool if different from the CephBlockPool CR name.",
          "type": [
            "string",
            "null"
          ],
          "enum": [
            ".rgw.root",
            ".nfs",
            ".mgr"
          ]
        },
        "parameters": {
          "description": "Parameters is a list of properties to enable on a given pool",
          "additionalProperties": {
            "type": [
              "string",
              "null"
            ]
          },
          "x-kubernetes-preserve-unknown-fields": true
        },
        "quotas": {
          "description": "The quota settings"
        },
        "replicated": {
          "description": "The replication settings",
          "type": [
            "object",
            "null"
          ],
          "required": [
            "size"
          ],
          "properties": {
            "hybridStorage": {
              "description": "HybridStorage represents hybrid storage tier settings",
              "required": [
                "primaryDeviceClass",
                "secondaryDeviceClass"
              ]
            },
            "replicasPerFailureDomain": {
              "description": "ReplicasPerFailureDomain the number of replica in the specified failure domain",
              "type": [
                "integer",
                "null"
              ],
              "minimum": 1
            },
            "requireSafeReplicaSize": {
              "description": "RequireSafeReplicaSize if false allows you to set replica 1",
              "type": [
                "boolean",
                "null"
              ]
            },
            "size": {
              "description": "Size - Number of copies per object in a replicated storage pool, including the object itself (required for replicated pool type)",
              "type": "integer",
              "minimum": 0
            },
            "subFailureDomain": {
              "description": "SubFailureDomain the name of the sub-failure domain",
              "type": [
                "string",
                "null"
              ]
            },
            "targetSizeRatio": {
              "description": "TargetSizeRatio gives a hint (%) to Ceph in terms of expected consumption of the total cluster capacity",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "additionalProperties": false
        },
        "statusCheck": {
          "description": "The mirroring statusCheck",
          "x-kubernetes-preserve-unknown-fields": true
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "CephBlockPoolStatus represents the mirroring status of Ceph Storage Pool",
      "x-kubernetes-preserve-unknown-fields": true
    }
  },
  "x-kubernetes-group-version-kind": [
    {
      "group": "ceph.rook.io",
      "kind": "CephBlockPool",
      "version": "v1"
    }
  ],
  "additionalProperties": false,
  "$schema": "http://json-schema.org/schema#"
}